{% extends 'base.html' %}
{% block title %}Edit User: {{ user.username }}{% endblock %}
{% block content %}
<h3 class="display-6 mb-4">Edit User: {{ user.username }}</h3>
<a href="{{ url_for('admin_users') }}" class="btn btn-sm btn-outline-secondary mb-3"><i class="fas fa-arrow-left me-1"></i> Back to Users</a>

<div class="card shadow">
    <div class="card-body">
        <form method="post">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Full Name</label>
                    <input name="name" class="form-control" value="{{ user.name }}" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Username</label>
                    <input name="username" class="form-control" value="{{ user.username }}" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label class="form-label">Contact Number</label>
                    <input name="contact_number" type="tel" class="form-control" value="{{ user.contact_number }}" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Role</label>
                    <select name="role" class="form-select" required>
                        <option value="customer" {% if user.role == 'customer' %}selected{% endif %}>Customer</option>
                        <option value="farmer" {% if user.role == 'farmer' %}selected{% endif %}>Farmer</option>
                        <option value="admin" {% if user.role == 'admin' %}selected{% endif %}>Admin</option>
                    </select>
                </div>

                <div class="col-12 mb-4">
                    <label class="form-label">New Password (Leave blank to keep current password)</label>
                    <input name="password" type="password" class="form-control" placeholder="Enter new password">
                    <small class="form-text text-muted">Only enter a value if you wish to change the password.</small>
                </div>
            </div>

            <button type="submit" class="btn btn-success btn-lg"><i class="fas fa-save me-2"></i> Save Changes</button>
        </form>
    </div>
</div>
{% endblock %}